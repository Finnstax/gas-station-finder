(function(t){function e(e){for(var a,i,s=e[0],c=e[1],l=e[2],b=0,d=[];b<s.length;b++)i=s[b],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/gas-station-finder/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},o={class:"flex items-center justify-between h-16"},i={class:"flex items-center"},s=Object(a["j"])("div",{class:"flex-shrink-0"},[Object(a["j"])("img",{class:"h-8 w-8",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg",alt:"Workflow"})],-1),c={class:"hidden md:block"},l={class:"ml-10 flex items-baseline space-x-4"},u={key:0,href:"#",class:"bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium"},b={key:1,href:"#",class:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium"},d=Object(a["j"])("header",{class:"bg-white shadow"},[Object(a["j"])("div",{class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},[Object(a["j"])("h1",{class:"text-3xl font-bold text-gray-900"},"Tankstellen-Finder")])],-1),j={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},f={class:"px-4 sm:px-0"};function p(t,e,n,p,g,m){var O=Object(a["w"])("Disclosure"),h=Object(a["w"])("GasStationList");return Object(a["r"])(),Object(a["g"])("div",null,[Object(a["j"])(O,{as:"nav",class:"bg-gray-800"},{default:Object(a["C"])((function(){return[Object(a["j"])("div",r,[Object(a["j"])("div",o,[Object(a["j"])("div",i,[s,Object(a["j"])("div",c,[Object(a["j"])("div",l,[(Object(a["r"])(!0),Object(a["g"])(a["a"],null,Object(a["v"])(p.navigation,(function(t,e){return Object(a["r"])(),Object(a["g"])(a["a"],{key:t},[0===e?(Object(a["r"])(),Object(a["g"])("a",u,Object(a["x"])(t),1)):(Object(a["r"])(),Object(a["g"])("a",b,Object(a["x"])(t),1))],64)})),128))])])])])])]})),_:1}),d,Object(a["j"])("main",null,[Object(a["j"])("div",j,[Object(a["j"])("div",f,[Object(a["j"])(h)])])])])}var g=n("d511"),m=(n("9510"),n("fb6a"),{class:"flex gap-2 gap-y-3 xl:gap-5 flex-wrap"}),O={class:"grid grid-cols-2 py-6 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5"},h={class:"flex justify-center pt-5"},x=Object(a["i"])(" Mehr anzeigen ");function v(t,e,n,r,o,i){var s=Object(a["w"])("GeolocationButton"),c=Object(a["w"])("FilterGroup"),l=Object(a["w"])("Toggle"),u=Object(a["w"])("GasStation"),b=Object(a["w"])("PlusCircleIcon");return Object(a["r"])(),Object(a["g"])(a["a"],null,[Object(a["j"])("div",m,[Object(a["j"])(s,{class:"w-screen md:w-auto",onGeoSuccessful:i.updateLatLong},null,8,["onGeoSuccessful"]),Object(a["j"])(c,{class:"w-24",onFilterEvent:i.updateParam,optionData:o.fuelOptions},null,8,["onFilterEvent","optionData"]),Object(a["j"])(c,{class:"w-24",onFilterEvent:i.updateParam,optionData:o.rangeOptions},null,8,["onFilterEvent","optionData"]),Object(a["j"])(c,{class:"w-36",onFilterEvent:i.updateParam,optionData:o.sortingOptions},null,8,["onFilterEvent","optionData"]),Object(a["j"])(l,{onToggleVisiblity:i.updateParam},null,8,["onToggleVisiblity"])]),Object(a["j"])("ul",O,[(Object(a["r"])(!0),Object(a["g"])(a["a"],null,Object(a["v"])(i.filteredGasStations.slice(0,this.limit),(function(t){return Object(a["r"])(),Object(a["g"])(u,{key:t.id,gasStation:t,sortParams:o.sortParams,geoPos:o.currentGeoPos},null,8,["gasStation","sortParams","geoPos"])})),128))]),Object(a["j"])("div",h,[o.limit<this.filteredGasStations.length?(Object(a["r"])(),Object(a["g"])("button",{key:0,onClick:e[1]||(e[1]=function(t){return o.limit+=10}),type:"button",class:"center mt-2 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[Object(a["j"])(b,{class:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),x])):Object(a["h"])("",!0)])],64)}var w=n("3835"),y=(n("159b"),n("4fad"),n("4de4"),n("bc3a")),k=n.n(y),S=n("fd7f"),P={class:"col-span-1 bg-white hover:bg-gray-100 rounded-lg shadow p-6 pb-3"},L={class:"w-full flex items-center justify-between space-x-6"},C={class:"flex-1 truncate"},G={class:"flex items-center space-x-3"},_={class:"lowercase text-gray-900 text-sm font-medium truncate"},D={class:"mt-1 text-gray-500 text-sm truncate lowercase"},E=Object(a["j"])("br",null,null,-1),I={class:"grid grid-cols-1 sm:grid-cols-1 pt-2"},M={class:"relative verflow-hidden h-9"},F={class:"absolute bg-gray-700 rounded-md p-1"},T={class:"ml-8 flex items-baseline"},z={class:"text-l font-semibold text-gray-900"},V={class:"relative verflow-hidden h-9"},B={class:"absolute bg-gray-700 rounded-md p-1"},N={class:"ml-8 flex items-baseline"},R={class:"text-l font-semibold text-gray-900"},U={class:"text-gray-400 text-xs truncate capitalize"},$=Object(a["j"])("button",{type:"button",class:"inline-flex mt-1 items-center px-2.5 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Navigation ",-1);function A(t,e,n,r,o,i){var s=Object(a["w"])("FlagIcon"),c=Object(a["w"])("CurrencyEuroIcon");return Object(a["r"])(),Object(a["g"])("a",{target:"_blank",href:o.href,title:"Zur Navigation"},[Object(a["j"])("li",P,[Object(a["j"])("div",L,[Object(a["j"])("div",C,[Object(a["j"])("div",G,[Object(a["j"])("h3",_,Object(a["x"])(n.gasStation.brand),1),Object(a["j"])("span",{class:[{"bg-green-100 text-green-800":n.gasStation.isOpen,"bg-red-100 text-red-800":!n.gasStation.isOpen},"lowercase lex-shrink-0 inline-block px-2 py-0.5 text-xs font-medium rounded-full"]},Object(a["x"])(n.gasStation.isOpen?"geöffnet":"geschlossen"),3)]),Object(a["j"])("p",D,[Object(a["i"])(Object(a["x"])(n.gasStation.street)+" "+Object(a["x"])(n.gasStation.houseNumber),1),E,Object(a["i"])(Object(a["x"])(n.gasStation.postCode)+" "+Object(a["x"])(n.gasStation.place),1)])])]),Object(a["j"])("dl",I,[Object(a["j"])("div",M,[Object(a["j"])("dt",null,[Object(a["j"])("div",F,[Object(a["j"])(s,{class:"h-4 w-4 text-white","aria-hidden":"true"})])]),Object(a["j"])("dd",T,[Object(a["j"])("p",z,Object(a["x"])(n.gasStation.dist)+"km ",1)])]),Object(a["j"])("div",V,[Object(a["j"])("dt",null,[Object(a["j"])("div",B,[Object(a["j"])(c,{class:"h-4 w-4 text-white","aria-hidden":"true"})])]),Object(a["j"])("dd",N,[Object(a["j"])("p",R,[Object(a["i"])(Object(a["x"])(n.gasStation[n.sortParams.type])+" ",1),Object(a["j"])("span",U," ("+Object(a["x"])(n.sortParams.type)+") ",1)])])])]),$])],8,["href"])}var J={components:{FlagIcon:S["e"],CurrencyEuroIcon:S["c"]},props:["gasStation","sortParams","geoPos"],data:function(t){return{href:"https://www.google.com/maps/dir/"+(t.geoPos?t.geoPos.latitude+","+t.geoPos.longitude:"")+"/"+t.gasStation.lat+","+t.gasStation.lng}}};J.render=A;var K=J,W=(n("b0c0"),{class:"mt-1 relative"}),Z={class:"block truncate"},q={class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none"};function H(t,e,n,r,o,i){var s=Object(a["w"])("ListboxLabel"),c=Object(a["w"])("SelectorIcon"),l=Object(a["w"])("ListboxButton"),u=Object(a["w"])("CheckIcon"),b=Object(a["w"])("ListboxOption"),d=Object(a["w"])("ListboxOptions"),j=Object(a["w"])("Listbox");return Object(a["r"])(),Object(a["g"])(j,{as:"div",modelValue:r.selected,"onUpdate:modelValue":e[1]||(e[1]=function(t){return r.selected=t})},{default:Object(a["C"])((function(){return[Object(a["j"])(s,{class:"block text-sm font-medium text-gray-700"},{default:Object(a["C"])((function(){return[Object(a["i"])(Object(a["x"])(n.optionData.label),1)]})),_:1}),Object(a["j"])("div",W,[Object(a["j"])(l,{class:"bg-white relative w-full border border-gray-300 text-sm rounded-md shadow-sm pl-3 pr-10 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},{default:Object(a["C"])((function(){return[Object(a["j"])("span",Z,Object(a["x"])(r.selected.name),1),Object(a["j"])("span",q,[Object(a["j"])(c,{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]})),_:1}),Object(a["j"])(a["c"],{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Object(a["C"])((function(){return[Object(a["j"])(d,{class:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"},{default:Object(a["C"])((function(){return[(Object(a["r"])(!0),Object(a["g"])(a["a"],null,Object(a["v"])(n.optionData.options,(function(t){return Object(a["r"])(),Object(a["g"])(b,{as:"template",key:t.id,value:t},{default:Object(a["C"])((function(e){var n=e.active,r=e.selected;return[Object(a["j"])("li",{class:[n?"text-white bg-indigo-600":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9 text-sm"]},[Object(a["j"])("span",{class:[r?"font-semibold":"font-normal","block truncate"]},Object(a["x"])(t.name),3),r?(Object(a["r"])(),Object(a["g"])("span",{key:0,class:[n?"text-white":"text-indigo-600","absolute inset-y-0 right-0 flex items-center pr-4"]},[Object(a["j"])(u,{class:"h-5 w-5","aria-hidden":"true"})],2)):Object(a["h"])("",!0)],2)]})),_:2},1032,["value"])})),128))]})),_:1})]})),_:1})])]})),_:1},8,["modelValue"])}var Q={components:{Listbox:g["b"],ListboxButton:g["c"],ListboxLabel:g["d"],ListboxOption:g["e"],ListboxOptions:g["f"],CheckIcon:S["b"],SelectorIcon:S["h"]},props:["optionData"],setup:function(t){var e=Object(a["u"])(t.optionData.options[0]);return{selected:e}},watch:{selected:function(){this.$emit("filterEvent",this.selected.param,this.selected.value)}}};Q.render=H;var X=Q,Y=Object(a["j"])("label",{id:"headlessui-listbox-label-2",class:"block text-sm font-medium text-gray-700"},"Sichtbarkeit",-1),tt=Object(a["j"])("span",{class:"sr-only"},"Use setting",-1),et=Object(a["j"])("svg",{class:"h-3 w-3 text-gray-400",fill:"none",viewBox:"0 0 12 12"},[Object(a["j"])("path",{d:"M4 8l2-2m0 0l2-2M6 6L4 4m2 2l2 2",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),nt=Object(a["j"])("svg",{class:"h-3 w-3 text-indigo-600",fill:"currentColor",viewBox:"0 0 12 12"},[Object(a["j"])("path",{d:"M3.707 5.293a1 1 0 00-1.414 1.414l1.414-1.414zM5 8l-.707.707a1 1 0 001.414 0L5 8zm4.707-3.293a1 1 0 00-1.414-1.414l1.414 1.414zm-7.414 2l2 2 1.414-1.414-2-2-1.414 1.414zm3.414 2l4-4-1.414-1.414-4 4 1.414 1.414z"})],-1),at=Object(a["j"])("span",{class:"text-sm font-medium text-gray-900"},"Nur geöffnete Tankstellen anzeigen",-1);function rt(t,e,n,r,o,i){var s=Object(a["w"])("Switch"),c=Object(a["w"])("SwitchLabel"),l=Object(a["w"])("SwitchGroup");return Object(a["r"])(),Object(a["g"])("div",null,[Y,Object(a["j"])(l,{as:"div",class:"h-11 flex items-center"},{default:Object(a["C"])((function(){return[Object(a["j"])(s,{modelValue:r.enabled,"onUpdate:modelValue":e[1]||(e[1]=function(t){return r.enabled=t}),class:[r.enabled?"bg-indigo-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"]},{default:Object(a["C"])((function(){return[tt,Object(a["j"])("span",{class:[r.enabled?"translate-x-5":"translate-x-0","pointer-events-none relative inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200"]},[Object(a["j"])("span",{class:[r.enabled?"opacity-0 ease-out duration-100":"opacity-100 ease-in duration-200","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"],"aria-hidden":"true"},[et],2),Object(a["j"])("span",{class:[r.enabled?"opacity-100 ease-in duration-200":"opacity-0 ease-out duration-100","absolute inset-0 h-full w-full flex items-center justify-center transition-opacity"],"aria-hidden":"true"},[nt],2)],2)]})),_:1},8,["modelValue","class"]),Object(a["j"])(c,{as:"span",class:"ml-3"},{default:Object(a["C"])((function(){return[at]})),_:1})]})),_:1})])}var ot={components:{Switch:g["g"],SwitchLabel:g["i"],SwitchGroup:g["h"]},watch:{enabled:function(){this.$emit("toggleVisiblity","showOnlyOpen",this.enabled)}},setup:function(){var t=Object(a["u"])(!0);return{enabled:t}}};ot.render=rt;var it=ot,st=Object(a["j"])("label",{id:"headlessui-listbox-label-2",class:"block text-sm font-medium text-gray-700"},"Standort",-1),ct=Object(a["i"])(" Standort festlegen "),lt=Object(a["i"])(" Fehlerhafter Standort "),ut={key:2,disabled:!0,type:"button",class:"mt-1 inline-flex hover:none cursor-default items-center px-4 py-2 opacity-50 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},bt=Object(a["i"])(" Standort festgelegt ");function dt(t,e,n,r,o,i){var s=Object(a["w"])("LocationMarkerIcon"),c=Object(a["w"])("ExclamationCircleIcon"),l=Object(a["w"])("CheckCircleIcon");return Object(a["r"])(),Object(a["g"])("div",null,[st,o.location||o.errorStr?Object(a["h"])("",!0):(Object(a["r"])(),Object(a["g"])("button",{key:0,onClick:e[1]||(e[1]=function(t){return i.locateMe()}),type:"button",class:"mt-1 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[ct,Object(a["j"])(s,{class:"ml-2 -mr-1 h-5 w-5","aria-hidden":"true"})])),o.errorStr?(Object(a["r"])(),Object(a["g"])("button",{key:1,disabled:!0,onClick:e[2]||(e[2]=function(){return i.locateMe&&i.locateMe.apply(i,arguments)}),type:"button",class:"mt-1 inline-flex items-center px-4 py-2 border opacity-50 cursor-default hover:none border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[lt,Object(a["j"])(c,{class:"ml-2 -mr-1 h-5 w-5","aria-hidden":"true"})])):Object(a["h"])("",!0),o.location?(Object(a["r"])(),Object(a["g"])("button",ut,[bt,Object(a["j"])(l,{class:"ml-2 -mr-1 h-5 w-5","aria-hidden":"true"})])):Object(a["h"])("",!0)])}var jt=n("1da1"),ft=(n("96cf"),n("d3b7"),{components:{LocationMarkerIcon:S["f"],ExclamationCircleIcon:S["d"],CheckCircleIcon:S["a"]},data:function(){return{location:null,gettingLocation:!1,errorStr:null}},methods:{getLocation:function(){var t=this;return Object(jt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){"geolocation"in navigator||n(new Error("Geolocation is not available.")),navigator.geolocation.getCurrentPosition((function(n){t.$emit("geoSuccessful",n.coords),e(n)}),(function(t){n(t)}))})));case 1:case"end":return e.stop()}}),e)})))()},locateMe:function(){var t=this;return Object(jt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.gettingLocation=!0,e.prev=1,t.gettingLocation=!1,e.next=5,t.getLocation();case 5:t.location=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](1),t.gettingLocation=!1,t.errorStr=e.t0.message;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}});ft.render=dt;var pt=ft,gt={components:{GasStation:K,FilterGroup:X,Toggle:it,PlusCircleIcon:S["g"],GeolocationButton:pt},data:function(){return{currentGeoPos:"",limit:20,apiParams:{lat:53.5499492,long:9.990664,rad:25,sort:"dist",type:"all"},sortParams:{type:"e5",sort:"price",rad:5,showOnlyOpen:!0},publicToken:"57f854ac-7238-b503-e1c5-56095ce5ffed",gasStations:[],fuelOptions:{label:"Kraftstoff",options:[{id:2,name:"E5",value:"e5",param:"type"},{id:3,name:"E10",value:"e10",param:"type"},{id:4,name:"Diesel",value:"diesel",param:"type"}]},sortingOptions:{label:"Sortierung",options:[{id:2,name:"Preis",value:"price",param:"sort"},{id:1,name:"Entfernung",value:"dist",param:"sort"}]},rangeOptions:{label:"Suchradius",options:[{id:1,name:"5km",value:"5",param:"rad"},{id:2,name:"10km",value:"10",param:"rad"},{id:3,name:"15km",value:"15",param:"rad"},{id:4,name:"20km",value:"20",param:"rad"},{id:5,name:"25km",value:"25",param:"rad"}]}}},computed:{filteredGasStations:function(){return this.filterAndSortGasStations()}},methods:{updateParam:function(t,e){this.sortParams[t]=e},filterAndSortGasStations:function(){var t=this,e=this.gasStations;return Object.entries(this.sortParams).forEach((function(n){var a=Object(w["a"])(n,2),r=a[0],o=a[1];switch(r){case"rad":e=e.filter((function(t){return t.dist<o}));break;case"sort":"dist"==o&&(e=e.sort((function(t,e){return t[o]-e[o]}))),"price"==o&&(e=e.filter((function(e){return null!==e[t.sortParams.type]})),e=e.sort((function(e,n){return e[t.sortParams.type]-n[t.sortParams.type]})));break;case"showOnlyOpen":o&&(e=e.filter((function(t){return t.isOpen})));break}})),e},updateLatLong:function(t){this.apiParams.lat=t.latitude,this.apiParams.long=t.longitude,this.currentGeoPos=t,this.getGasStationData()},getGasStationData:function(){var t=this;k.a.get("https://creativecommons.tankerkoenig.de/json/list.php?lat="+this.apiParams.lat+"&lng="+this.apiParams.long+"&rad="+this.apiParams.rad+"&sort="+this.apiParams.sort+"&type="+this.apiParams.type+"&apikey="+this.publicToken).then((function(e){return t.gasStations=e.data.stations}))}},mounted:function(){this.getGasStationData()}};gt.render=v;var mt=gt,Ot=["Tankstellen-Finder"],ht={components:{Disclosure:g["a"],GasStationList:mt},setup:function(){return{navigation:Ot}}};ht.render=p;var xt=ht;n("5717");Object(a["f"])(xt).mount("#app")},5717:function(t,e,n){}});
//# sourceMappingURL=app.361c7a6d.js.map